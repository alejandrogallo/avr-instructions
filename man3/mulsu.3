.\"t
.\" Automatically generated by Pandoc 1.16.0.2
.\"
.TH "MULSU \- Multiply Signed with Unsigned \- \- AVR Assembler" "" "" "" ""
.hy
.SH AVR Assembler Instructions
.SS MULSU \- Multiply Signed with Unsigned
.SS  () Description:
.PP
This instruction performs 8\-bit × 8\-bit → 16\-bit multiplication of a
signed and an unsigned number.
.PP
.TS
tab(@);
l l l l l l.
T{
.PP
Rd
T}@T{
T}@T{
.PP
Rr
T}@T{
T}@T{
.PP
R1
T}@T{
.PP
R0
T}
_
T{
.PP
Multiplicand
T}@T{
.PP
×
T}@T{
.PP
Multiplier
T}@T{
.PP
→
T}@T{
.PP
Product High
T}@T{
.PP
Product Low
T}
T{
.PP
8
T}@T{
T}@T{
.PP
8
T}@T{
T}@T{
.PP
16
T}@T{
T}
.TE
.PP
The multiplicand Rd and the multiplier Rr are two registers.
The multiplicand Rd is a signed number, and the multiplier Rr is
unsigned.
The 16\-bit signed product is placed in R1 (high byte) and R0 (low
byte).
.PP
This instruction is not available in all devices.
Refer to the device specific instruction set summary.
.PP
Operation:
.PP
(i) R1:R0 ← Rd × Rr(signed ← signed × unsigned)
.PP
Syntax: Operands: Program Counter:
.PP
(i) MULSU Rd,R r16 ≤ d ≤ 23, 16 ≤ r ≤ 23 PC ← PC + 1
.PP
16\-bit Opcode:
.PP
.TS
tab(@);
l l l l.
T{
.PP
0000
T}@T{
.PP
0011
T}@T{
.PP
0ddd
T}@T{
.PP
0rrr
T}
.TE
.SS  () Status Register (SREG) and Boolean Formula:
.PP
.TS
tab(@);
l l l l l l l l.
T{
.PP
I
T}@T{
.PP
T
T}@T{
.PP
H
T}@T{
.PP
S
T}@T{
.PP
V
T}@T{
.PP
N
T}@T{
.PP
Z
T}@T{
.PP
C
T}
_
T{
.PP
\-
T}@T{
.PP
\-
T}@T{
.PP
\-
T}@T{
.PP
\-
T}@T{
.PP
\-
T}@T{
.PP
\-
T}@T{
.PP
⇔
T}@T{
.PP
⇔
T}
.TE
.PP
C: R15
.PP
Set if bit 15 of the result is set; cleared otherwise.
.PP
Z:
$\\overline{R15} \\overline{R14} \\overline{R13} \\overline{R12}$
.PP
$\\overline{R11} \\overline{R10} \\overline{R9} \\overline{R8}$
.PP
$\\overline{R7} \\overline{R6} \\overline{R5} \\overline{R4}$
.PP
$\\overline{R3} \\overline{R2} \\overline{R1} \\overline{R0}$
.PP
.PP
Set if the result is $0000; cleared otherwise.
.PP
R (Result) equals R1,R0 after the operation.
.PP
Example:
.IP
.nf
\f[C]
\ ;******************************************************************************
\ ;*\ DESCRIPTION
\ ;*Signed\ multiply\ of\ two\ 16\-bit\ numbers\ with\ 32\-bit\ result.
\ ;*\ USAGE
\ ;*r19:r18:r17:r16\ =\ r23:r22\ *\ r21:r20
\ ;******************************************************************************
\ muls16x16_32:
clr\ r2
muls\ r23,\ r21\ ;\ (signed)ah\ *\ (signed)bh
movw\ r19:r18,\ r1:r0
mul\ r22,\ r20;\ al\ *\ bl
movw\ r17:r16,\ r1:r0
mulsu\ r23,\ r20\ ;\ (signed)ah\ *\ bl
sbc\ r19,\ r2
add\ r17,\ r0
adc\ r18,\ r1
adc\ r19,\ r2
mulsu\ r21,\ r22\ ;\ (signed)bh\ *\ al
sbc\ r19,\ r2
add\ r17,\ r0
adc\ r18,\ r1
adc\ r19,\ r2
ret
\f[]
.fi
.PP
.PP
Words: 1 (2 bytes)
.PP
Cycles: 2
